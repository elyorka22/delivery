# Решение проблемы подключения к Supabase

## Проблема: "Can't reach database server"

### Проверка 1: Пароль в .env файле

1. Откройте файл `.env`:
   ```bash
   cd /Users/admin/fooddelivery/backend
   code .env
   ```

2. Проверьте строку `DATABASE_URL`:
   - Должен быть РЕАЛЬНЫЙ пароль, а не `YOUR_ACTUAL_PASSWORD`
   - Пароль должен быть БЕЗ квадратных скобок `[]`

3. **Если пароль содержит специальные символы** (например: `!`, `@`, `#`, `$`, `%`, `&`, `*`), их нужно закодировать:
   - `!` → `%21`
   - `@` → `%40`
   - `#` → `%23`
   - `$` → `%24`
   - `%` → `%25`
   - `&` → `%26`
   - `*` → `%2A`

   Или используйте простой пароль без специальных символов.

### Проверка 2: Статус проекта Supabase

1. Зайдите на https://supabase.com/dashboard
2. Выберите ваш проект
3. Проверьте статус - проект должен быть **"Active"** (зеленый)
4. Если проект еще создается - подождите еще 1-2 минуты

### Проверка 3: Правильность Connection String

1. В Supabase Dashboard: **Settings** → **Database**
2. Найдите секцию **"Connection string"**
3. Выберите вкладку **"URI"**
4. Скопируйте строку еще раз
5. Убедитесь, что заменили `[YOUR-PASSWORD]` на реальный пароль

### Проверка 4: Использование Pooler URL

Попробуйте использовать Pooler URL вместо прямого подключения:

1. В Supabase Dashboard: **Settings** → **Database**
2. Найдите **"Connection string"**
3. Выберите вкладку **"Session mode"** или **"Transaction mode"**
4. Скопируйте этот URL
5. Замените пароль и используйте в `.env`

### Проверка 5: Сброс пароля

Если ничего не помогает:

1. В Supabase Dashboard: **Settings** → **Database**
2. Найдите **"Database password"**
3. Нажмите **"Reset database password"**
4. Сохраните новый пароль
5. Обновите `.env` файл с новым паролем

**Внимание:** Сброс пароля перезапустит базу данных (1-2 минуты)

### Альтернатива: Использовать простой пароль

Если пароль сложный, попробуйте:

1. Сбросить пароль в Supabase на простой (например: `password123`)
2. Обновить `.env` с простым паролем
3. После успешного подключения можно вернуть сложный пароль



